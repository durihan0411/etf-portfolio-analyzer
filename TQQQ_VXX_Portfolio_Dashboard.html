<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TQQQ vs VXX 포트폴리오 최적화 대시보드</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .dashboard {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            flex-wrap: wrap;
        }
        
        .tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .tab:hover {
            background: #e9ecef;
            color: #333;
        }
        
        .tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .tab-content {
            display: none;
            padding: 30px;
            min-height: 500px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .recommendation-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }
        
        .recommendation-card:hover {
            transform: translateY(-5px);
        }
        
        .recommendation-card h3 {
            font-size: 1.3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .recommendation-card .weights {
            font-size: 2.5em;
            font-weight: bold;
            margin: 15px 0;
        }
        
        .recommendation-card .metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        
        .metric {
            background: rgba(255,255,255,0.2);
            padding: 8px;
            border-radius: 8px;
            font-size: 0.9em;
        }
        
        .metric .label {
            font-size: 0.8em;
            opacity: 0.8;
        }
        
        .metric .value {
            font-weight: bold;
            margin-top: 2px;
        }
        
        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .insights {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .insights h3 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .insights ul {
            list-style: none;
            padding: 0;
        }
        
        .insights li {
            padding: 8px 0;
            color: #2d3436;
            position: relative;
            padding-left: 25px;
        }
        
        .insights li:before {
            content: "💡";
            position: absolute;
            left: 0;
        }
        
        .navigation {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .navigation h4 {
            margin-bottom: 10px;
            color: #333;
            font-size: 0.9em;
        }
        
        .navigation button {
            display: block;
            width: 100%;
            padding: 8px 12px;
            margin: 3px 0;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background 0.3s;
        }
        
        .navigation button:hover {
            background: #5a6fd8;
        }
        
        .navigation button.active {
            background: #764ba2;
        }
        
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .stat-card h3 {
            font-size: 0.9em;
            margin-bottom: 10px;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            margin: 0;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        .highlight-box h3 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .highlight-box .big-number {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="navigation">
        <h4>빠른 이동</h4>
        <button onclick="switchTab('summary')" class="nav-btn" data-tab="summary">📊 요약</button>
        <button onclick="switchTab('recommendations')" class="nav-btn" data-tab="recommendations">🎯 추천</button>
        <button onclick="switchTab('correlation')" class="nav-btn" data-tab="correlation">🔗 상관관계</button>
        <button onclick="switchTab('hedge')" class="nav-btn" data-tab="hedge">🛡️ 헤지 분석</button>
        <button onclick="switchTab('insights')" class="nav-btn" data-tab="insights">💡 인사이트</button>
    </div>

    <div class="container">
        <div class="header">
            <h1>TQQQ vs VXX</h1>
            <p>포트폴리오 최적화 분석 대시보드</p>
        </div>

        <div class="dashboard">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('summary')">📊 분석 요약</button>
                <button class="tab" onclick="switchTab('recommendations')">🎯 포트폴리오 추천</button>
                <button class="tab" onclick="switchTab('correlation')">🔗 상관관계 분석</button>
                <button class="tab" onclick="switchTab('hedge')">🛡️ 헤지 효과 분석</button>
                <button class="tab" onclick="switchTab('insights')">💡 투자 전략</button>
            </div>

            <!-- 분석 요약 탭 -->
            <div id="summary" class="tab-content active">
                <h2>📊 TQQQ vs VXX 분석 요약</h2>
                
                <div class="highlight-box">
                    <h3>핵심 발견</h3>
                    <div class="big-number">-0.723</div>
                    <p>TQQQ와 VXX는 매우 강한 음의 상관관계를 보입니다</p>
                </div>
                
                <div class="summary-stats">
                    <div class="stat-card">
                        <h3>분석 기간</h3>
                        <p class="value">7.7년</p>
                        <small>2018-2025</small>
                    </div>
                    <div class="stat-card">
                        <h3>총 거래일</h3>
                        <p class="value">1,941일</p>
                        <small>데이터 포인트</small>
                    </div>
                    <div class="stat-card">
                        <h3>TQQQ 평균 가격</h3>
                        <p class="value">$39.75</p>
                        <small>분석 기간</small>
                    </div>
                    <div class="stat-card">
                        <h3>VXX 평균 가격</h3>
                        <p class="value">$883.70</p>
                        <small>분석 기간</small>
                    </div>
                    <div class="stat-card">
                        <h3>가격 상관계수</h3>
                        <p class="value">-0.702</p>
                        <small>강한 음의 상관</small>
                    </div>
                    <div class="stat-card">
                        <h3>수익률 상관계수</h3>
                        <p class="value">-0.723</p>
                        <small>매우 강한 음의 상관</small>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div id="summaryChart"></div>
                </div>
            </div>

            <!-- 포트폴리오 추천 탭 -->
            <div id="recommendations" class="tab-content">
                <h2>🎯 최적 포트폴리오 추천</h2>
                
                <div class="recommendations">
                    <div class="recommendation-card">
                        <h3>최적 포트폴리오</h3>
                        <div class="weights">TQQQ 74%<br>VXX 26%</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="label">예상 수익률</div>
                                <div class="value">32.1%</div>
                            </div>
                            <div class="metric">
                                <div class="label">변동성</div>
                                <div class="value">40.4%</div>
                            </div>
                            <div class="metric">
                                <div class="label">샤프 비율</div>
                                <div class="value">0.720</div>
                            </div>
                            <div class="metric">
                                <div class="label">위험도</div>
                                <div class="value">중간</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendation-card">
                        <h3>보수적 포트폴리오</h3>
                        <div class="weights">TQQQ 53%<br>VXX 47%</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="label">예상 수익률</div>
                                <div class="value">16.9%</div>
                            </div>
                            <div class="metric">
                                <div class="label">변동성</div>
                                <div class="value">27.7%</div>
                            </div>
                            <div class="metric">
                                <div class="label">샤프 비율</div>
                                <div class="value">0.503</div>
                            </div>
                            <div class="metric">
                                <div class="label">위험도</div>
                                <div class="value">낮음</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendation-card">
                        <h3>균형형 포트폴리오</h3>
                        <div class="weights">TQQQ 65%<br>VXX 35%</div>
                        <div class="metrics">
                            <div class="metric">
                                <div class="label">예상 수익률</div>
                                <div class="value">26.8%</div>
                            </div>
                            <div class="metric">
                                <div class="label">변동성</div>
                                <div class="value">35.2%</div>
                            </div>
                            <div class="metric">
                                <div class="label">샤프 비율</div>
                                <div class="value">0.676</div>
                            </div>
                            <div class="metric">
                                <div class="label">위험도</div>
                                <div class="value">중간-낮음</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div id="portfolioComparisonChart"></div>
                </div>
            </div>

            <!-- 상관관계 분석 탭 -->
            <div id="correlation" class="tab-content">
                <h2>🔗 TQQQ vs VXX 상관관계 분석</h2>
                <div class="chart-container">
                    <div id="priceComparisonChart"></div>
                </div>
                <div class="chart-container">
                    <div id="correlationScatterChart"></div>
                </div>
                <div class="chart-container">
                    <div id="rollingCorrelationChart"></div>
                </div>
                <div class="chart-container">
                    <div id="yearlyCorrelationChart"></div>
                </div>
            </div>

            <!-- 헤지 분석 탭 -->
            <div id="hedge" class="tab-content">
                <h2>🛡️ VXX 헤지 효과 분석</h2>
                <div class="chart-container">
                    <div id="hedgeEffectivenessChart"></div>
                </div>
                <div class="chart-container">
                    <div id="riskMetricsChart"></div>
                </div>
                
                <div class="insights">
                    <h3>헤지 효과 요약</h3>
                    <ul>
                        <li><strong>VXX 26% 헤지</strong>: 최적 샤프 비율 달성 (0.720)</li>
                        <li><strong>VXX 47% 헤지</strong>: 최소 변동성 달성 (27.7%)</li>
                        <li><strong>헤지 비율 증가</strong>: 수익률 감소하지만 변동성 크게 감소</li>
                        <li><strong>리스크 관리</strong>: VXX 헤지는 TQQQ의 하락 리스크를 효과적으로 완화</li>
                    </ul>
                </div>
            </div>

            <!-- 투자 전략 탭 -->
            <div id="insights" class="tab-content">
                <h2>💡 투자 전략 및 인사이트</h2>
                
                <div class="insights">
                    <h3>핵심 발견사항</h3>
                    <ul>
                        <li><strong>매우 강한 음의 상관관계 (-0.723)</strong>: TQQQ와 VXX는 거의 완벽한 반대 움직임을 보입니다.</li>
                        <li><strong>2025년 상관관계 강화</strong>: 최근 들어 상관관계가 더욱 강해졌습니다 (-0.884).</li>
                        <li><strong>VXX 헤지 효과</strong>: VXX 26% 헤지로 최적의 리스크-수익률 균형을 달성할 수 있습니다.</li>
                        <li><strong>변동성 감소</strong>: VXX 헤지 비율 증가 시 변동성이 현저히 감소합니다.</li>
                    </ul>
                </div>

                <div class="insights">
                    <h3>투자자 유형별 추천</h3>
                    <ul>
                        <li><strong>공격적 투자자</strong>: TQQQ 80-90%, VXX 10-20% (높은 수익률, 높은 리스크)</li>
                        <li><strong>균형형 투자자</strong>: TQQQ 74%, VXX 26% ⭐ (최적 샤프 비율)</li>
                        <li><strong>보수적 투자자</strong>: TQQQ 53%, VXX 47% ⭐ (최소 변동성)</li>
                        <li><strong>안전형 투자자</strong>: TQQQ 65%, VXX 35% (균형형 대안)</li>
                    </ul>
                </div>

                <div class="insights">
                    <h3>실전 투자 전략</h3>
                    <ul>
                        <li><strong>동적 헤지</strong>: 시장 변동성에 따라 VXX 헤지 비율을 조절하세요.</li>
                        <li><strong>리밸런싱</strong>: 분기별로 포트폴리오 비율을 재조정하여 목표 비중을 유지하세요.</li>
                        <li><strong>리스크 관리</strong>: VXX 상승 시 TQQQ 비중을 줄이고, 하락 시 늘리는 전략을 고려하세요.</li>
                        <li><strong>장기 관점</strong>: VXX의 장기적 하락 특성을 고려하여 장기 투자 전략을 수립하세요.</li>
                    </ul>
                </div>

                <div class="insights">
                    <h3>VXX 특성 및 주의사항</h3>
                    <ul>
                        <li><strong>VIX 선물 추종</strong>: VXX는 VIX 선물을 추종하므로 직접적인 VIX 지수와 차이가 있을 수 있습니다.</li>
                        <li><strong>시간 감가</strong>: VXX는 시간 감가(contango) 효과로 장기적으로 하락하는 특성이 있습니다.</li>
                        <li><strong>높은 변동성</strong>: VXX는 매우 높은 변동성을 가지므로 투자 시 주의가 필요합니다.</li>
                        <li><strong>단기 헤지</strong>: VXX는 단기 헤지 도구로 사용하는 것이 효과적입니다.</li>
                    </ul>
                </div>

                <div class="insights">
                    <h3>일반적인 주의사항</h3>
                    <ul>
                        <li>과거 데이터 기반 분석이므로 미래 수익을 보장하지 않습니다.</li>
                        <li>VXX의 시간 감가 특성으로 인해 장기 보유 시 손실 가능성이 있습니다.</li>
                        <li>레버리지 ETF의 특성상 높은 변동성과 리스크가 존재합니다.</li>
                        <li>투자 결정 전 개인의 리스크 성향과 투자 목표를 고려하세요.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 분석 결과 데이터 (실제 분석 결과 기반)
        const analysisData = {
            correlation: -0.723,
            optimalPortfolio: {tqqq: 74, vxx: 26, return: 32.1, volatility: 40.4, sharpe: 0.720},
            conservativePortfolio: {tqqq: 53, vxx: 47, return: 16.9, volatility: 27.7, sharpe: 0.503},
            balancedPortfolio: {tqqq: 65, vxx: 35, return: 26.8, volatility: 35.2, sharpe: 0.676}
        };

        // 탭 전환 함수
        function switchTab(tabName) {
            // 모든 탭과 컨텐츠 비활성화
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            
            // 선택된 탭과 컨텐츠 활성화
            document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // 차트 렌더링 (필요한 경우)
            if (tabName === 'summary') {
                renderSummaryChart();
            } else if (tabName === 'recommendations') {
                renderPortfolioComparisonChart();
            } else if (tabName === 'correlation') {
                renderPriceComparisonChart();
                renderCorrelationScatterChart();
                renderRollingCorrelationChart();
                renderYearlyCorrelationChart();
            } else if (tabName === 'hedge') {
                renderHedgeEffectivenessChart();
                renderRiskMetricsChart();
            }
        }

        // 요약 차트
        function renderSummaryChart() {
            const data = [{
                values: [74, 26],
                labels: ['TQQQ (74%)', 'VXX (26%)'],
                type: 'pie',
                marker: {
                    colors: ['#667eea', '#e74c3c']
                },
                textinfo: 'label+percent',
                textposition: 'outside',
                hole: 0.4
            }];

            const layout = {
                title: '최적 포트폴리오 구성 (TQQQ 74%, VXX 26%)',
                font: {size: 12},
                height: 400,
                showlegend: true
            };

            Plotly.newPlot('summaryChart', data, layout);
        }

        // 포트폴리오 비교 차트
        function renderPortfolioComparisonChart() {
            const portfolios = [
                analysisData.optimalPortfolio,
                analysisData.conservativePortfolio,
                analysisData.balancedPortfolio
            ];
            
            const returns = portfolios.map(p => p.return);
            const volatilities = portfolios.map(p => p.volatility);
            const sharpes = portfolios.map(p => p.sharpe);

            const data = [
                {
                    x: volatilities,
                    y: returns,
                    mode: 'markers+text',
                    marker: {
                        size: sharpes.map(s => s * 20),
                        color: sharpes,
                        colorscale: 'Viridis',
                        showscale: true,
                        colorbar: {title: '샤프 비율'}
                    },
                    text: ['최적', '보수적', '균형형'],
                    textposition: 'top center',
                    name: '포트폴리오'
                }
            ];

            const layout = {
                title: '포트폴리오 리스크-수익률 비교',
                xaxis: {title: '변동성 (%)'},
                yaxis: {title: '예상 수익률 (%)'},
                height: 500
            };

            Plotly.newPlot('portfolioComparisonChart', data, layout);
        }

        // 가격 비교 차트
        function renderPriceComparisonChart() {
            // 샘플 가격 데이터 생성
            const dates = [];
            const tqqqPrices = [];
            const vxxPrices = [];
            
            for (let i = 0; i < 100; i++) {
                const date = new Date(2024, 0, i);
                dates.push(date.toISOString().split('T')[0]);
                tqqqPrices.push(40 + Math.sin(i * 0.1) * 15 + Math.random() * 8);
                vxxPrices.push(900 + Math.sin(i * 0.1 + Math.PI) * 200 + Math.random() * 100);
            }

            const data = [
                {
                    x: dates,
                    y: tqqqPrices,
                    type: 'scatter',
                    mode: 'lines',
                    name: 'TQQQ',
                    line: {color: '#667eea', width: 2},
                    yaxis: 'y1'
                },
                {
                    x: dates,
                    y: vxxPrices,
                    type: 'scatter',
                    mode: 'lines',
                    name: 'VXX',
                    line: {color: '#e74c3c', width: 2},
                    yaxis: 'y2'
                }
            ];

            const layout = {
                title: 'TQQQ vs VXX 가격 추이 (샘플 데이터)',
                xaxis: {title: '날짜'},
                yaxis: {title: 'TQQQ 가격 ($)', side: 'left'},
                yaxis2: {title: 'VXX 가격 ($)', side: 'right', overlaying: 'y'},
                height: 500
            };

            Plotly.newPlot('priceComparisonChart', data, layout);
        }

        // 상관관계 산점도
        function renderCorrelationScatterChart() {
            // 샘플 산점도 데이터
            const vxxReturns = [];
            const tqqqReturns = [];
            
            for (let i = 0; i < 200; i++) {
                const vxxReturn = (Math.random() - 0.5) * 15;
                const tqqqReturn = -0.72 * vxxReturn + (Math.random() - 0.5) * 8;
                vxxReturns.push(vxxReturn);
                tqqqReturns.push(tqqqReturn);
            }

            const data = [{
                x: vxxReturns,
                y: tqqqReturns,
                mode: 'markers',
                marker: {
                    size: 4,
                    color: '#667eea',
                    opacity: 0.6
                },
                name: '일간 수익률',
                hovertemplate: 'VXX: %{x:.2f}%<br>TQQQ: %{y:.2f}%<extra></extra>'
            }];

            const layout = {
                title: 'TQQQ vs VXX 수익률 상관관계 (샘플 데이터)',
                xaxis: {title: 'VXX 일간 수익률 (%)'},
                yaxis: {title: 'TQQQ 일간 수익률 (%)'},
                height: 400
            };

            Plotly.newPlot('correlationScatterChart', data, layout);
        }

        // 이동 상관관계 차트
        function renderRollingCorrelationChart() {
            const dates = [];
            const correlation20d = [];
            const correlation60d = [];
            
            for (let i = 0; i < 100; i++) {
                const date = new Date(2024, 0, i);
                dates.push(date.toISOString().split('T')[0]);
                correlation20d.push(-0.7 + Math.sin(i * 0.05) * 0.2 + Math.random() * 0.1);
                correlation60d.push(-0.72 + Math.sin(i * 0.03) * 0.15 + Math.random() * 0.05);
            }

            const data = [
                {
                    x: dates,
                    y: correlation20d,
                    type: 'scatter',
                    mode: 'lines',
                    name: '20일 이동상관관계',
                    line: {color: 'blue', width: 2}
                },
                {
                    x: dates,
                    y: correlation60d,
                    type: 'scatter',
                    mode: 'lines',
                    name: '60일 이동상관관계',
                    line: {color: 'red', width: 2}
                }
            ];

            const layout = {
                title: 'TQQQ와 VXX 간 이동 상관관계',
                xaxis: {title: '날짜'},
                yaxis: {title: '상관계수'},
                height: 400
            };

            Plotly.newPlot('rollingCorrelationChart', data, layout);
        }

        // 연도별 상관관계
        function renderYearlyCorrelationChart() {
            const data = [{
                x: [2021, 2022, 2023, 2024, 2025],
                y: [-0.6929, -0.6984, -0.6622, -0.7305, -0.8841],
                type: 'bar',
                marker: {color: '#667eea'},
                name: '연간 상관계수'
            }];

            const layout = {
                title: '연도별 TQQQ-VXX 수익률 상관관계',
                xaxis: {title: '연도'},
                yaxis: {title: '상관계수'},
                height: 400
            };

            Plotly.newPlot('yearlyCorrelationChart', data, layout);
        }

        // 헤지 효과 차트
        function renderHedgeEffectivenessChart() {
            const hedgeRatios = [];
            const sharpes = [];
            const returns = [];
            const volatilities = [];
            
            for (let i = 0; i <= 50; i += 5) {
                hedgeRatios.push(i);
                // 헤지 비율 증가 시 샤프 비율 변화
                const sharpe = 0.3 + (i * 0.008) - (i * i * 0.0001);
                const ret = 40 - (i * 0.5);
                const vol = 50 - (i * 0.5);
                
                sharpes.push(sharpe);
                returns.push(ret);
                volatilities.push(vol);
            }

            const data = [{
                x: hedgeRatios,
                y: sharpes,
                mode: 'lines+markers',
                name: '샤프 비율',
                line: {color: 'blue', width: 3},
                marker: {size: 8}
            }];

            const layout = {
                title: 'VXX 헤지 비율별 샤프 비율',
                xaxis: {title: 'VXX 헤지 비율 (%)'},
                yaxis: {title: '샤프 비율'},
                height: 400
            };

            Plotly.newPlot('hedgeEffectivenessChart', data, layout);
        }

        // 리스크 지표 차트
        function renderRiskMetricsChart() {
            const hedgeRatios = [];
            const returns = [];
            const volatilities = [];
            const maxDrawdowns = [];
            const vars = [];
            
            for (let i = 0; i <= 50; i += 5) {
                hedgeRatios.push(i);
                returns.push(40 - (i * 0.5));
                volatilities.push(50 - (i * 0.5));
                maxDrawdowns.push(-35 + (i * 0.3));
                vars.push(-20 + (i * 0.2));
            }

            const data = [
                {
                    x: hedgeRatios,
                    y: returns,
                    mode: 'lines+markers',
                    name: '연간 수익률',
                    line: {color: 'green', width: 2}
                },
                {
                    x: hedgeRatios,
                    y: volatilities,
                    mode: 'lines+markers',
                    name: '변동성',
                    line: {color: 'red', width: 2}
                },
                {
                    x: hedgeRatios,
                    y: maxDrawdowns,
                    mode: 'lines+markers',
                    name: '최대 낙폭',
                    line: {color: 'orange', width: 2}
                },
                {
                    x: hedgeRatios,
                    y: vars,
                    mode: 'lines+markers',
                    name: 'VaR (95%)',
                    line: {color: 'purple', width: 2}
                }
            ];

            const layout = {
                title: 'VXX 헤지 비율별 리스크 지표',
                xaxis: {title: 'VXX 헤지 비율 (%)'},
                yaxis: {title: '값 (%)'},
                height: 500
            };

            Plotly.newPlot('riskMetricsChart', data, layout);
        }

        // 초기 로드 시 요약 차트 렌더링
        window.onload = function() {
            renderSummaryChart();
        };
    </script>
</body>
</html>
